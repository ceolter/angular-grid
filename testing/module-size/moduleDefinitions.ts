import { ModuleName } from 'ag-grid-community';

import { CommunityModuleName, EnterpriseModuleName } from '../../packages/ag-grid-community/src/interfaces/iModule';

const AllCommunityModules: Record<CommunityModuleName, number> = {
    AlignedGridsModule: 3.06,
    AllCommunityEditorsModule: 51.29,
    AnimateShowChangeCellRendererModule: 1.73,
    AnimateSlideCellRendererModule: 1.45,
    AnimationFrameModule: 2.21,
    AriaModule: 1.23,
    CellApiModule: 0.28,
    CellFlashModule: 0.98,
    CellRendererFunctionModule: 0.48,
    CellStyleModule: 2.24,
    ChangeDetectionModule: 2.5,
    CheckboxCellRendererModule: 9.79,
    ClientSideRowModelApiModule: 30.21,
    ClientSideRowModelCoreModule: 28.33,
    ClientSideRowModelFilterModule: 13.64,
    ClientSideRowModelModule: 521.64,
    ClientSideRowModelSortModule: 41.3,
    ColumnAnimationModule: 1.41,
    ColumnApiModule: 2.53,
    ColumnAutosizeModule: 10.02,
    ColumnFilterMenuModule: 46.09,
    ColumnFilterModule: 38.96,
    ColumnFlexModule: 1.81,
    ColumnGroupHeaderCompModule: 2.9,
    ColumnGroupModule: 11.88,
    ColumnHeaderCompModule: 5.18,
    ColumnHoverModule: 1.58,
    ColumnMoveModule: 33.6,
    ColumnResizeModule: 14.81,
    CommunityCoreModule: 1,
    CommunityFeaturesModule: 494.89,
    CsvExportModule: 11.3,
    DataTypeEditorsModule: 34.81,
    DataTypeModule: 22.16,
    DefaultEditorModule: 25.82,
    EditCoreModule: 17.71,
    EditModule: 57.76,
    EventApiModule: 2.64,
    ExpressionModule: 0.86,
    FilterCoreModule: 12.34,
    FilterModule: 139.87,
    FilterValueModule: 0.6,
    FloatingFilterCoreModule: 45.61,
    FloatingFilterModule: 45.66,
    FullRowEditModule: 18.34,
    GetColumnDefsApiModule: 1.76,
    InfiniteRowModelApiModule: 18.16,
    InfiniteRowModelCoreModule: 17.17,
    InfiniteRowModelModule: 507.51,
    KeyboardNavigationModule: 20.35,
    LargeTextEditorModule: 24.49,
    LoadingOverlayModule: 7.63,
    LocaleModule: 0.43,
    NativeDragModule: 1.47,
    NoRowsOverlayModule: 7.6,
    OverlayCoreModule: 7.15,
    OverlayModule: 8.06,
    PaginationModule: 37.69,
    PinnedColumnModule: 5.03,
    PinnedRowModule: 9.35,
    QuickFilterModule: 17.07,
    ReadOnlyFloatingFilterModule: 52.61,
    RenderApiModule: 1.48,
    RowApiModule: 0.88,
    RowAutoHeightModule: 1.84,
    RowDragModule: 28.64,
    RowNodeBlockModule: 1,
    RowSelectionApiModule: 1.35,
    RowSelectionCoreModule: 35.57,
    RowSelectionModule: 36.96,
    RowStyleModule: 1.24,
    ScrollApiModule: 0.7,
    SelectEditorModule: 36.55,
    SelectionColumnModule: 2.52,
    SimpleFilterModule: 112.49,
    SimpleFloatingFilterModule: 127.8,
    SortCoreModule: 10.28,
    SortIndicatorCompModule: 10.43,
    SortModule: 10.47,
    StateModule: 13.24,
    StickyRowModule: 6.25,
    TooltipCoreModule: 21.77,
    TooltipCompModule: 0.44,
    TooltipModule: 22.24,
    TouchModule: 3.89,
    UndoRedoEditModule: 23.5,
    ValidationModule: 69.56,
    ValueCacheModule: 0.65,
};
export const AllEnterpriseModules: Record<EnterpriseModuleName, number> = {
    AdvancedFilterModule: 2713.3,
    AggregationModule: 2590.69,
    CellSelectionCoreModule: 2569.52,
    CellSelectionFillHandleModule: 2569.52,
    CellSelectionModule: 2569.52,
    CellSelectionRangeHandleModule: 2569.52,
    ClientSideRowModelHierarchyModule: 2580.22,
    ClipboardModule: 2597.86,
    ColumnChooserModule: 2670.25,
    ColumnMenuModule: 2604.98,
    ColumnsToolPanelCoreModule: 2653.8,
    ColumnsToolPanelModule: 2822.46,
    ColumnsToolPanelRowGroupingModule: 2717.42,
    ContextMenuModule: 2599.67,
    ExcelExportModule: 2637.37,
    FiltersToolPanelModule: 2639.18,
    GridChartsModule: 2569.52,
    GroupCellRendererModule: 2581.29,
    GroupFilterModule: 2657.24,
    GroupFloatingFilterModule: 2666.78,
    LoadingCellRendererModule: 2570.3,
    MasterDetailCoreModule: 2620,
    MasterDetailModule: 2625.17,
    MenuItemModule: 1,
    MenuModule: 2676.84,
    MultiFilterCoreModule: 2612.28,
    MultiFilterModule: 2621.69,
    MultiFloatingFilterModule: 2621.64,
    PivotCoreModule: 2646.48,
    PivotModule: 2719.92,
    RangeSelectionModule: 2569.57,
    RichSelectModule: 2610.33,
    RowGroupingCoreModule: 2621.59,
    RowGroupingModule: 2742.15,
    RowGroupingOnlyModule: 2695.03,
    RowGroupingPanelModule: 2639.07,
    ServerSideRowModelApiModule: 2650.19,
    ServerSideRowModelCoreModule: 2647.98,
    ServerSideRowModelModule: 3048.19,
    ServerSideRowModelHierarchyModule: 2649.85,
    ServerSideRowModelRowSelectionModule: 2648.09,
    ServerSideRowModelSortModule: 2658.92,
    SetFilterCoreModule: 2654.71,
    SetFilterModule: 2662.31,
    SetFloatingFilterModule: 2662.27,
    SideBarModule: 2585.68,
    SkeletonCellRendererModule: 2570.47,
    SparklinesModule: 2570.6,
    StatusBarCoreModule: 2579.29,
    StatusBarModule: 2580.12,
    StatusBarSelectionModule: 2580.07,
    TreeDataCoreModule: 2610.41,
    TreeDataModule: 2643.36,
    ViewportRowModelCoreModule: 2579.16,
    ViewportRowModelModule: 2983.81,
};

export interface ModuleTest {
    modules: ModuleName[];
    expectedSize: number;
}

const allCommunityModules: ModuleTest[] = Object.entries(AllCommunityModules).map(([m, s]) => ({
    modules: [m as ModuleName],
    expectedSize: s,
}));
const allEnterpriseModules: ModuleTest[] = Object.entries(AllEnterpriseModules).map(([m, s]) => ({
    modules: [m as ModuleName],
    expectedSize: s,
}));

const commonFeatureSets: ModuleTest[] = [
    { modules: ['ClientSideRowModelCoreModule', 'SortModule'], expectedSize: 40 },
    { modules: ['ClientSideRowModelCoreModule', 'SortModule', 'FilterModule'], expectedSize: 178 },
];

export const moduleCombinations: ModuleTest[] = [
    { modules: [], expectedSize: 308 },
    ...commonFeatureSets,
    ...allCommunityModules.slice(0, 3),
    ...allEnterpriseModules.slice(0, 3),
];
